# Лабораторная работа №2

<div align="center">

**МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ**  
**ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ БЮДЖЕТНОЕ ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ**  
**«САХАЛИНСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ»**

<br>
<br>

Институт естественных наук и техносферной безопасности  
Кафедра информатики  
**Чегодаев Артем Сергеевич**

<br>
<br>
<br>
<br>

Лабораторная работа №2  
**«Написание консольных утилит на Kotlin внутри Android проекта. Расчеты, работа со строками. Подготовка классов данных для будущего приложения»**  
01.03.02 Прикладная математика и информатика  
3 Курс

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<div align="right">
Научный руководитель<br>
Соболев Евгений Игоревич
</div>

<br>
<br>
<br>

г. Южно-Сахалинск  
2026 г.

</div>

---

## Цель Работы

Научиться создавать классы данных и функции-утилиты на Kotlin в контексте Android-проекта, освоить базовые приёмы работы со строками и числами, познакомиться с юнит-тестированием для проверки корректности кода.

## Индивидуальное задание: Класс "Студент"
Создайте data class Student (имя, фамилия, группа, средний балл). Напишите функцию, которая возвращает строку вида "Иванов И. (группа ПИ-101)" и функцию для определения статуса (отличник/хорошист/троечник) на основе среднего балла. Покройте тестами.

<img width="912" height="220" alt="image" src="https://github.com/user-attachments/assets/a1686db9-1e4b-4956-9c33-d029dab1f2ba" />
*Рисунок 1 – Успешное прохождение всех юнит-тестов*

## Student
```kotlin

package com.example.myfirstapp

data class Student(
    val name: String,
    val surname: String,
    val group: String,
    val averageGrade: Double
){

    fun getShortInfo(): String {
        val initial = name.firstOrNull()?.uppercase() ?: ""
        return "$surname $initial. (группа $group)"
    }

    fun getStatus(): String {
        return when {
            averageGrade >= 4.5 -> "Отличник"
            averageGrade >= 3.5 -> "Хорошист"
            averageGrade >= 3.0 -> "Троечник"
            else -> "Не аттестован"
        }
    }
}

```
## StudentTest
```kotlin
package com.example.myfirstapp
import org.junit.Assert.assertEquals
import org.junit.Test
class StudentTest {

    @Test
    fun testGetShortInfo_correctFormat() {
        // Arrange
        val student = Student("Иван", "Иванов", "ПИ-101", 4.5)
        val expected = "Иванов И. (группа ПИ-101)"

        // Act
        val result = student.getShortInfo()

        // Assert
        assertEquals(expected, result)
    }

    @Test
    fun testGetShortInfo_differentName() {
        val student = Student("Петр", "Петров", "ИК-202", 3.8)
        assertEquals("Петров П. (группа ИК-202)", student.getShortInfo())
    }

    @Test
    fun testStatusExcellent() {
        val student = Student("Анна", "Смирнова", "ГР-101", 5.0)
        assertEquals("Отличник", student.getStatus())
    }

    @Test
    fun testStatusGood() {
        val student = Student("Олег", "Козлов", "ГР-101", 4.0)
        assertEquals("Хорошист", student.getStatus())
    }

    @Test
    fun testStatusAverage() {
        val student = Student("Дмитрий", "Волков", "ГР-101", 3.2)
        assertEquals("Троечник", student.getStatus())
    }

    @Test
    fun testStatusLowGrade() {
        val student = Student("Ева", "Лугина", "ГР-101", 2.5)
        assertEquals("Не аттестован", student.getStatus())
    }
}

```
## Ответы на контрольные вопросы

**1. Для чего в Kotlin используются data class?**  
Data class (классы данных) используются для хранения состояния. Компилятор автоматически генерирует для них полезные методы: `toString()`, `equals()`, `hashCode()` и `copy()`. Это избавляет от необходимости писать шаблонный код и делает классы удобными для хранения данных, например, для модели `Book` с полями title, author, year, price.

**2. Чем отличается функция расширения от обычной функции?**  
Функция расширения (extension function) позволяет добавить новую функциональность к существующему классу без наследования. Она вызывается как метод класса (например, `"test".isValidEmail()`), но при этом не может обращаться к приватным полям класса. Обычная функция — это независимая функция, не привязанная к конкретному классу и вызываемая обычным способом (например, `formatAuthorName("Толстой Лев")`).

**3. Как запустить юнит-тесты в Android Studio?**  
Существует несколько способов:
- Щелкнуть правой кнопкой мыши на папке `src/test/java` и выбрать **Run Tests**
- Открыть конкретный тестовый файл и нажать на зелёный треугольник рядом с именем класса или отдельным тестом
- Через терминал выполнить команду `./gradlew test`
Внизу откроется окно **Run** с результатами выполнения тестов.

**4. Что такое assertEquals и для чего нужен третий параметр (дельта) при сравнении вещественных чисел?**  
`assertEquals` — это метод библиотеки JUnit для проверки равенства двух значений в тестах. Третий параметр (дельта) используется при сравнении вещественных чисел (Double, Float) из-за особенностей их представления в компьютере. Из-за погрешностей вычислений 0.1 + 0.2 может быть не точно равно 0.3. Дельта задаёт допустимую погрешность (например, 0.001), в пределах которой числа считаются равными.

**5. В какой директории проекта хранятся тесты, выполняющиеся на JVM?**  
Тесты, выполняющиеся на JVM, хранятся в директории `app/src/test/java/`. Эта директория предназначена для юнит-тестов, которые запускаются на локальной машине без необходимости эмулятора или реального устройства.

