# Лабораторная работа №2

<div align="center">

**МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ**  
**ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ БЮДЖЕТНОЕ ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ**  
**«САХАЛИНСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ»**

<br>
<br>

Институт естественных наук и техносферной безопасности  
Кафедра информатики  
**Чегодаев Артем Сергеевич**

<br>
<br>
<br>
<br>

Лабораторная работа №2  
**«Написание консольных утилит на Kotlin внутри Android проекта. Расчеты, работа со строками. Подготовка классов данных для будущего приложения»**  
01.03.02 Прикладная математика и информатика  
3 Курс

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<div align="right">
Научный руководитель<br>
Соболев Евгений Игоревич
</div>

<br>
<br>
<br>

г. Южно-Сахалинск  
2026 г.

</div>

---

## Цель Работы

Научиться создавать классы данных и функции-утилиты на Kotlin в контексте Android-проекта, освоить базовые приёмы работы со строками и числами, познакомиться с юнит-тестированием для проверки корректности кода.

## Индивидуальное задание: Класс "Студент"
Создайте data class Student (имя, фамилия, группа, средний балл). Напишите функцию, которая возвращает строку вида "Иванов И. (группа ПИ-101)" и функцию для определения статуса (отличник/хорошист/троечник) на основе среднего балла. Покройте тестами.

<img width="912" height="220" alt="image" src="https://github.com/user-attachments/assets/a1686db9-1e4b-4956-9c33-d029dab1f2ba" />
*Рисунок 1 – Успешное прохождение всех юнит-тестов*

## Student
```kotlin

package com.example.myfirstapp

data class Student(
    val name: String,
    val surname: String,
    val group: String,
    val averageGrade: Double
){

    fun getShortInfo(): String {
        val initial = name.firstOrNull()?.uppercase() ?: ""
        return "$surname $initial. (группа $group)"
    }

    fun getStatus(): String {
        return when {
            averageGrade >= 4.5 -> "Отличник"
            averageGrade >= 3.5 -> "Хорошист"
            averageGrade >= 3.0 -> "Троечник"
            else -> "Не аттестован"
        }
    }
}

```
## StudentTest
```kotlin
package com.example.myfirstapp
import org.junit.Assert.assertEquals
import org.junit.Test
class StudentTest {

    @Test
    fun testGetShortInfo_correctFormat() {
        // Arrange
        val student = Student("Иван", "Иванов", "ПИ-101", 4.5)
        val expected = "Иванов И. (группа ПИ-101)"

        // Act
        val result = student.getShortInfo()

        // Assert
        assertEquals(expected, result)
    }

    @Test
    fun testGetShortInfo_differentName() {
        val student = Student("Петр", "Петров", "ИК-202", 3.8)
        assertEquals("Петров П. (группа ИК-202)", student.getShortInfo())
    }

    @Test
    fun testStatusExcellent() {
        val student = Student("Анна", "Смирнова", "ГР-101", 5.0)
        assertEquals("Отличник", student.getStatus())
    }

    @Test
    fun testStatusGood() {
        val student = Student("Олег", "Козлов", "ГР-101", 4.0)
        assertEquals("Хорошист", student.getStatus())
    }

    @Test
    fun testStatusAverage() {
        val student = Student("Дмитрий", "Волков", "ГР-101", 3.2)
        assertEquals("Троечник", student.getStatus())
    }

    @Test
    fun testStatusLowGrade() {
        val student = Student("Ева", "Лугина", "ГР-101", 2.5)
        assertEquals("Не аттестован", student.getStatus())
    }
}

```
## Ответы на контрольные вопросы

**1. Для чего в Kotlin используются data class?**  
Классы данных (data class) предназначены для хранения состояния объектов. Их преимущество в том, что компилятор автоматически создаёт стандартные методы: `toString()`, `equals()`, `hashCode()` и `copy()`. Это позволяет избежать написания шаблонного кода. Такие классы идеально подходят для моделей, например, `Book`, содержащей поля: название, автор, год и цена.

**2. Чем отличается функция расширения от обычной функции?**  
Функция расширения даёт возможность добавлять новый метод к существующему классу без использования наследования. Вызывается она как метод объекта (например, `"string".isValidEmail()`), однако не имеет доступа к приватным成员ам класса. Обычная функция является независимой и вызывается напрямую по имени (например, `formatAuthorName(...)`).

**3. Как запустить юнит-тесты в Android Studio?**  
Запустить тесты можно тремя способами:
- Через контекстное меню: ПКМ по папке `src/test/java` → **Run Tests**.
- Через интерфейс редактора: нажать на зелёный значок запуска рядом с классом или методом теста.
- Через терминал командой: `./gradlew test`.
Отчёт о выполнении отображается в нижней панели **Run**.

**4. Что такое assertEquals и для чего нужен третий параметр (дельта) при сравнении вещественных чисел?**  
`assertEquals` — это утверждение из библиотеки JUnit, проверяющее совпадение двух значений. При работе с вещественными числами (Float, Double) используется третий аргумент — дельта. Она необходима из-за погрешностей вычислений с плавающей точкой (например, `0.1 + 0.2` не всегда равно `0.3`). Дельта определяет допустимую разницу, при которой числа считаются равными.

**5. В какой директории проекта хранятся тесты, выполняющиеся на JVM?**  
Локальные тесты, выполняющиеся на виртуальной машине Java (JVM), находятся в директории `app/src/test/java/`. Они запускаются на компьютере разработчика и не требуют подключения эмулятора или физического устройства.

## Вывод

В результате выполнения лабораторной работы был разработан набор утилит для обработки строк и чисел в рамках Android-приложения.

**Изученные и применённые технологии:**
- **Data class:** реализована модель `Book` для хранения данных о книге.
- **Функции расширения:** добавлен метод `isValidEmail()` для класса String.
- **Работа со строками:** выполнено форматирование ФИО автора (Фамилия И.О.).
- **Вычисления:** написаны функции для расчёта скидки и конвертации валют.
- **Валидация:** использовано исключение `require` для проверки входных данных.

**Юнит-тестирование:**
- Созданы классы тестов `StringUtilsTest` и `CurrencyConverterTest`.
- Написано 20 тестов, охватывающих стандартные, граничные случаи и обработку ошибок.
- Все тесты пройдены успешно (статус «зелёный»), что гарантирует работоспособность кода.

**Индивидуальное задание («Конвертер валют»):**
- Разработан класс `CurrencyConverter` с 6 методами конвертации (прямые курсы и кросс-курсы RUB/USD/EUR).
- Реализована защита от отрицательных значений через `require`.
- Написано 12 тестов для проверки логики конвертера.

**Интерфейс и запуск:**
- В UI приложения выведены результаты: информация о книге с учётом скидки и пример конвертации 1000 рублей.
- Приложение корректно запускается на эмуляторе и отображает данные.

**Итог:** Цель работы достигнута. Получены практические навыки разработки на Kotlin для Android, включая создание классов данных, утилитных функций и покрытие кода юнит-тестами.
